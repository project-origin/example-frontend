
<div class="dashboard">

    <div class="filters">
        <mat-card>
            <mat-card-content>
                <h1>About</h1>
                <div>
                    <p> On this view, you get an overview of all the GGOs (Granular Guarantees of Origin). 
                        You can select a filter of which dates to look at. 
                        This filter is applied to all graphs on this view. </p>

                    <p>
                        Inbound and Issued are sources of GGOs. This is where you get them from. <br>
                        Outbound, Retired and Expired are sinks of GGOs, where they end up. <br>
                        Stored is the amount you currently have available to use or transfer.
                    </p>

                    <p><b>Inbound:</b> The sum of GGOs transferred into your account. </p>
                    <p><b>Stored:</b> The sum of GGOs available for trade or retirement. </p>
                    <p><b>Outbound:</b> The sum of GGOs transferred out of your account. </p>
                    <p><b>Issued:</b> The sum of GGOs issued to your facilities. </p>
                    <p><b>Retired:</b> The sum of GGOs retired to your facilities. </p>
                    <p><b>Expired:</b> The sum of GGOs that is to old and has expired. </p>
                </div>

            </mat-card-content>
        </mat-card>


        <mat-card>
            <mat-card-content>
                <form [formGroup]="form">

                    <h1>Filter</h1>

                    <div class="filter">
                        <div class="icon">
                            <img src="/assets/icon_date.png">
                        </div>
                        <div class="label">Date:</div>
                        <div class="field daterange">
                            <input matInput class="dateinput" [satDatepicker]="datePicker" disabled formControlName="date"
                                [min]="minDate"
                                [max]="maxDate">
                            <sat-datepicker #datePicker [rangeMode]="true" disabled="false"></sat-datepicker>
                            <sat-datepicker-toggle matSuffix [for]="datePicker" class="datepicker"></sat-datepicker-toggle>
                        </div>
                    </div>

                </form>

            </mat-card-content>
        </mat-card>
    </div>

    <div class="details">

        <mat-card>
            <mat-card-content class="overview">
                <div class="data-overview">
                    <h1>GGO Overview</h1>

                    <app-ggo-summary
                        [dateFrom]="dateFrom"
                        [dateTo]="dateTo">
                    </app-ggo-summary>
                </div>

            </mat-card-content>
        </mat-card>


        <mat-card>
            <mat-card-content>
                <h1>Stored GGOs</h1>

                <app-ggo-summary-plot
                    [dateFrom]="dateFrom"
                    [dateTo]="dateTo"
                    category="stored">
                </app-ggo-summary-plot>

            </mat-card-content>
        </mat-card>


        <mat-card>
            <mat-card-content>
                <div class="legend">
                    <h1>Commodities</h1>
                    <div class="fill-remaining"></div>
                    <button mat-flat-button color="primary" [matMenuTriggerFor]="menu">EXPORT CSV</button>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item (click)="exportMeasurements()">Measurements</button>
                        <button mat-menu-item (click)="exportGgoSummary()">GGO Summary</button>
                        <button mat-menu-item (click)="exportGgoList()">GGO List</button>
                    </mat-menu>
                </div>
                <h2>Produced power and issued GGOs</h2>

                <app-commodity-plot
                    [dateFrom]="dateFrom"
                    [dateTo]="dateTo"
                    measurementType="production">
                </app-commodity-plot>

                &nbsp;<br>
                <h2>Consumed power and retired GGOs</h2>

                <app-commodity-plot
                    [dateFrom]="dateFrom"
                    [dateTo]="dateTo"
                    measurementType="consumption">
                </app-commodity-plot>

            </mat-card-content>
        </mat-card>


        <mat-card>
            <mat-card-content>
                <div class="legend">
                    <h1>Transferring</h1>
                    <div class="fill-remaining"></div>
                    <button mat-flat-button color="primary" (click)="exportTransferGgoSummary()">EXPORT CSV</button>
                </div>
                <h2>Inbound GGO transferring</h2>

                <app-trading-plot
                    [dateFrom]="dateFrom"
                    [dateTo]="dateTo"
                    direction="inbound">
                </app-trading-plot>

                &nbsp;<br>
                <h2>Outbound GGO transferring</h2>

                <app-trading-plot
                    [dateFrom]="dateFrom"
                    [dateTo]="dateTo"
                    direction="outbound">
                </app-trading-plot>

            </mat-card-content>
        </mat-card>


    </div>

</div>
